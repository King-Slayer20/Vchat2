<!DOCTYPE html>
<html>

<head>
	<title>Vchat</title>
	<link rel="stylesheet" href="style.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
		integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
</head>

<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<link rel="stylesheet" href="alertify.core.css" />
<link rel="stylesheet" href="alertify.default.css" id="toggleCSS" />
<link rel="shortcut icon" href="data:image/x-icon;" type="image/x-icon">
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
	integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
	crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
	crossorigin="anonymous"></script>
<script>

	const ROOM_ID = '<%= roomId %>';
	console.log(ROOM_ID);
</script>
<script>

	window.onclick = function (event) {
		if (!event.target.matches('.dropbtn')) {
			var dropdowns = document.getElementsByClassName("dropdown-content");
			var i;
			for (i = 0; i < dropdowns.length; i++) {
				var openDropdown = dropdowns[i];
				if (openDropdown.classList.contains('show')) {
					openDropdown.classList.remove('show');
				}
			}
		}
	}
</script>

<script src="https://unpkg.com/peerjs@1.3.1/dist/peerjs.min.js" defer></script>
<script src="/socket.io/socket.io.js" defer></script>
<script src="https://kit.fontawesome.com/62d14f866e.js" crossorigin="anonymous"></script>
<script src="https://www.gstatic.com/firebasejs/4.8.2/firebase.js"></script>
<script src="https://www.gstatic.com/firebasejs/4.8.2/firebase-auth.js"></script>

<body>
	<div class="main">
		<div class="main__left">
			<div class="main__videos">
				<div id="video-grid">

				</div>
			</div>
			<div class="main__controls">
				<div class="main__controls__block">
					<div onclick="invite()" title = "Mail Invite" class="main__controls__button ">
						<i class="fas fa-user-plus"></i>
					</div>
				</div>
				<div class="main__controls__block">

					<div onclick="muteUnmute()" title = "Mute" id = "mute" class="main__controls__button Mute__button">
						<i class="fas fa-microphone"></i>
					</div>
					<div onclick="videoOnOff()" title = "Stop Video" id = "video" class="main__controls__button Video__button">
						<i class="fas fa-video"></i>
					</div>
					<div onclick= "disconnectNow()" title = "End Call" class="main__controls__button main__leave" style=" color: Tomato;">
						<i class="fas fa-phone-alt" style = "transform: rotate(135deg); color: red; font-size: 48px;"></i>
					</div>
					<div onclick="screenshare()" title = "Screen Share" class="main__controls__button">
						<i class="fas fa-photo-video"></i>
					</div>
					<div onclick="share()" title = "Copy link" class="main__controls__button">
						<i class="fa fa-share-alt"></i>
					</div>


				</div>
				<div class="main__controls__block">
					<div onclick="raisedHand()"title = "Raise hand"  class="main__controls__button raisedHand">
						<i class="far fa-hand-paper"></i>
					</div>
					<div class="main__controls__button">
						<!-- remove -->
						<div class="dropdown">
							<i onclick="getUsers()" title = "Show participants" class ="fas fa-user-friends dropbtn"></i>
							<div id="myDropdown" class="dropdown-content">
							</div>
						</div>
					</div>

				</div>


			</div>
		</div>

		<div class="main__right">
			<div class="main__header">
				<h6 style="padding: 15px 0;"><i class="fas fa-comment-alt"></i> Chat</h6><hr>
			</div>
			<div class="main__chat_window">
				<ul class="messages">
				</ul>
			</div>
			
			<div class="main__messages_container">
				<hr>
				<input id="chat_messages" type="text" placeholder="Type message here...">
			</div>
		</div>


		<script src="script.js" defer></script>
		<script src="alertify.js" defer></script>


</body>

</html>